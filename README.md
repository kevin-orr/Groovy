# Groovy
A small collection of various Groovy code snippets while learning the Groovy Language...
### Join Tables in Grails
Here's a way to [create a join table between two domains but with added state](has.many.join.table.name). Grails/Gorm doesn't naturally let you do this - convention over configuration - but it's not that tricky to extend.

### SSL and HTTPS. 
Chatting HTTPS to a server can throw up some issues and I'm not even talking about mutual authentication (2 way SSL or MSSL), where you as the client have to authenticate to the server with your cert. I wanted a simple way to ping a server over HTTPS and see you could trust the server. There's lots of reasons why you might not trust a server - the trust anchor for the server's cert may not be in your trust store, perhaps the wrong certs are being pulled down because of a proxy, perhaps one of the certs in the cert chain is invalid - suffice it to say there are lots of ways. So I thought it would edifying to write a small command line tool that could point at a server and it would pull down the certificate chain, do some reporting on, perhaps even look at different extensions within the certs chain to see if you the trust anchor is somewhere else. Anyway, more an an exercise in playing with SSL layer.

### Vertx
I hit this [Vertx2](http://vertx.io/vertx2/docs.html) problem when trying to [send a message over the event bus from inside a worker verticle](using.actor.inside.vertx2.worker.verticle) some time back. I had a requirement where I'd listen for a message using a worker verticle, do some processing when message came in but then have to wait for a response from another service registerd on the event bus, then once I received that message, do some stuff and then continue on with the rest of the verticle processing. It turned out, that while inside the worker verticle (and so off the main event loop) that I was only able to fire a message to other verticles that made up the vertx module. This seemed very strange to me but I suppose the body of the verticle essentially represents the response to a message sent to that verticle and so probably makes some kind of sense (did I mention I'm not a vertx2 expert?). Anyway, to get over this bump as quickly as possible I decided to use [GPars Actor framework](http://www.gpars.org/webapp/guide/index.html#_user_guide_to_actors). I did look at [RX.Java](https://github.com/ReactiveX/RxJava) but for what I wanted to do it seemed overkill. So using this "technique" I was able to make the blocking call to another service (other than those known to the vertx mod) registered on the event bus. There's got to be better ways of doing this and I think [Vertx3](http://vertx.io) has a way around this.

